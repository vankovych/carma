<!DOCTYPE html>
<html>
    <head>
        <title>Career map, ELEKS</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="stylesheet" href="css/vendor/normalize.css">
        <link rel="stylesheet" href="css/style.css">

        <link rel="shortcut icon" href="favicon.ico">

        <script src="js/libs/d3/d3.js"></script>
        <!--<script src="js/libs/jquery/jquery-2.1.4.min.js"></script>-->

        <script src="js/app/main.js"></script>
    </head>
    <body>
        <div id="container">
            <div class="menu">
                <h3><a href="#">eleks<sup>&reg;</sup> Career map</a></h3>
                <ul>
                    <li><a href="#" class="active">Build my career</a></li>
                    <li><a href="#">Browse positions</a></li>
                </ul>                
            </div>            
            <div id="map">
                <div class="gradient-white-transparent"></div>
                <div class="gradient-blue-yellow"></div>
                <svg></svg>
                <!--<button type="button" id="animate">Animate</button>-->
                <div id="form-container">
                    <input type="text" value="I am...">
                    <button type="button">GO</button>
                </div>
            </div>
        </div>
        <script>
            'use strict';

            d3.json('data.json', function (error, json) {
                if (error) {
                    return console.warn(error);
                }

                CM.data = json;

                // create custom color scale from predifined colors
                CM.color = d3.scale.ordinal()
                        .domain(CM.data.divisions.map(function (d) {
                            return d.i;
                        }))
                        .range(json.colors);

                CM.svg = d3.select('#map svg')
                        .attr('width', CM.svgWidth)
                        .attr('height', CM.svgHeight);
                CM.group = CM.svg.append('g')
                        .attr('transform', 'translate(' + CM.svgWidth / 2 + ', ' + CM.svgHeight / 2 + ')');

                // add additional data
                for (var i = 0, j = 1; i < CM.data.divisions.length; i++, j++) {
                    if (j === 11) {
                        j += 2;
                    }
                    CM.data.divisions[i].i = j;
                    CM.data.divisions[i].initAngle = 0;
                    CM.data.divisions[i].finalAngle = CM.ArcLen * j;
                }

                renderTitles(CM.data.divisions, 'division-title');

                renderDivisions(CM.data.divisions);
            });

        </script>
        <!--Кількість доступних посад на одній гілці?-->
    </body>
</html>
